# 1 month stock volatility

#Library####
#rm(list = ls())
library(tidyverse) #general
library(xml2) #read_html()
library(rvest) #html_nodes()
library(htmltab) #htmltab()

#Stock Symbols####
# finding list of all stock symbols

data <- function(){

   other <- suppressWarnings(read_delim("http://ftp.nasdaqtrader.com/dynamic/SymDir/otherlisted.txt",
                                        "|", escape_double = FALSE, trim_ws = TRUE))
   
   other <- subset(other, other$ETF != "Y")
   other <- other[- grep("ETN", other$`Security Name`),]
   
   nasdaq <- suppressWarnings(read_delim("http://ftp.nasdaqtrader.com/dynamic/SymDir/nasdaqtraded.txt",
                                         "|", escape_double = FALSE, trim_ws = TRUE))
   
   nasdaq <- subset(nasdaq, nasdaq$ETF != "Y")
   nasdaq <- nasdaq[- grep("ETN", nasdaq$`Security Name`),]
   
   stock_names1 <- other[1]
   names(stock_names1)[1] <- "stock_symbols"
   stock_names2 <- nasdaq[1]
   names(stock_names2)[1] <- "stock_symbols"
   stock_names <- rbind(stock_names1, stock_names2)
   stock_names <- gsub("\\$.*","", stock_names$stock_symbols)
   stock_names <- as.data.frame(as.character(stock_names))
   
   names(stock_names)[1] <- "stock_symbols"
   
   stock_names$stock_symbols <- as.character(stock_names$stock_symbols)
   stock_names$stock_symbols <- gsub("\\..*","", stock_names$stock_symbols)
   stock_names <- unique(stock_names$stock_symbols)
   
   stock_names <- paste(" ", stock_names, sep="")
   stock_names <- paste(stock_names," ", sep="")
   
   stock_names <- stock_names[stock_names != " ABBV "]
   stock_names <- stock_names[stock_names != " ACB "]
   stock_names <- stock_names[stock_names != " ACEL "]
   stock_names <- stock_names[stock_names != " ADP "]
   stock_names <- stock_names[stock_names != " AE "]
   stock_names <- stock_names[stock_names != " AG "]
   stock_names <- stock_names[stock_names != " AINC "]
   stock_names <- stock_names[stock_names != " ATEN "]
   stock_names <- stock_names[stock_names != " AHT "]
   stock_names <- stock_names[stock_names != " AMC "]
   stock_names <- stock_names[stock_names != " ARD "]
   stock_names <- stock_names[stock_names != " AXU "]
   stock_names <- stock_names[stock_names != " BCH "]
   stock_names <- stock_names[stock_names != " AWF "]
   stock_names <- stock_names[stock_names != " AZUL "]
   stock_names <- stock_names[stock_names != " BB "]
   stock_names <- stock_names[stock_names != " BBD "]
   stock_names <- stock_names[stock_names != " BKT "]
   stock_names <- stock_names[stock_names != " BORR "]
   stock_names <- stock_names[stock_names != " BOX "]
   stock_names <- stock_names[stock_names != " BPT "]
   stock_names <- stock_names[stock_names != " BRBS "]
   stock_names <- stock_names[stock_names != " BRFS "]
   stock_names <- stock_names[stock_names != " BWG "]
   stock_names <- stock_names[stock_names != " CCJ "]
   stock_names <- stock_names[stock_names != " CCM "]
   stock_names <- stock_names[stock_names != " CDOR "]
   stock_names <- stock_names[stock_names != " CEE "]
   stock_names <- stock_names[stock_names != " CHU "]
   stock_names <- stock_names[stock_names != " CIG "]
   stock_names <- stock_names[stock_names != " BCH "]
   stock_names <- stock_names[stock_names != " BSAC "]
   stock_names <- stock_names[stock_names != " BSE "]
   stock_names <- stock_names[stock_names != " BTU "]
   stock_names <- stock_names[stock_names != " BZM "]
   stock_names <- stock_names[stock_names != " CCU "]
   stock_names <- stock_names[stock_names != " CEIX "]
   stock_names <- stock_names[stock_names != " CNK "]
   stock_names <- stock_names[stock_names != " CSLT "]
   stock_names <- stock_names[stock_names != " CXW "]
   stock_names <- stock_names[stock_names != " DNN "]
   stock_names <- stock_names[stock_names != " EDN "]
   stock_names <- stock_names[stock_names != " ENIA "]
   stock_names <- stock_names[stock_names != " EOT "]
   stock_names <- stock_names[stock_names != " EVH "]
   stock_names <- stock_names[stock_names != " EZT "]
   stock_names <- stock_names[stock_names != " GJT "]
   stock_names <- stock_names[stock_names != " GOLD "]
   stock_names <- stock_names[stock_names != " GSS "]
   stock_names <- stock_names[stock_names != " ITCB "]
   stock_names <- stock_names[stock_names != " CNX "]
   stock_names <- stock_names[stock_names != " CRT "]
   stock_names <- stock_names[stock_names != " CVEO "]
   stock_names <- stock_names[stock_names != " CVU "]
   stock_names <- stock_names[stock_names != " DCF "]
   stock_names <- stock_names[stock_names != " DIT "]
   stock_names <- stock_names[stock_names != " DNK "]
   stock_names <- stock_names[stock_names != " DSE "]
   stock_names <- stock_names[stock_names != " DTQ "]
   stock_names <- stock_names[stock_names != " EAB "]
   stock_names <- stock_names[stock_names != " EAE "]
   stock_names <- stock_names[stock_names != " EBR "]
   stock_names <- stock_names[stock_names != " EDI "]
   stock_names <- stock_names[stock_names != " EFF "]
   stock_names <- stock_names[stock_names != " EPM "]
   stock_names <- stock_names[stock_names != " ETX "]
   stock_names <- stock_names[stock_names != " FEDU "]
   stock_names <- stock_names[stock_names != " FI "]
   stock_names <- stock_names[stock_names != " FIV "]
   stock_names <- stock_names[stock_names != " FRD "]
   stock_names <- stock_names[stock_names != " FTSI "]
   stock_names <- stock_names[stock_names != " GAB "]
   stock_names <- stock_names[stock_names != " GGO "]
   stock_names <- stock_names[stock_names != " GGT "]
   stock_names <- stock_names[stock_names != " GSH "]
   stock_names <- stock_names[stock_names != " HGLB "]
   stock_names <- stock_names[stock_names != " HNGR "]
   stock_names <- stock_names[stock_names != " HRTG "]
   stock_names <- stock_names[stock_names != " HUSA "]
   stock_names <- stock_names[stock_names != " IGA "]
   stock_names <- stock_names[stock_names != " IGI "]
   stock_names <- stock_names[stock_names != " IHD "]
   stock_names <- stock_names[stock_names != " IMO "]
   stock_names <- stock_names[stock_names != " IOR "]
   stock_names <- stock_names[stock_names != " JE "]
   stock_names <- stock_names[stock_names != " JLS "]
   stock_names <- stock_names[stock_names != " JNPR "]
   stock_names <- stock_names[stock_names != " LPI "]
   stock_names <- stock_names[stock_names != " LXU "]
   stock_names <- stock_names[stock_names != " MCI "]
   stock_names <- stock_names[stock_names != " MANU "]
   stock_names <- stock_names[stock_names != " MCY "]
   stock_names <- stock_names[stock_names != " MFAC "]
   stock_names <- stock_names[stock_names != " MFG "]
   stock_names <- stock_names[stock_names != " MPA "]
   stock_names <- stock_names[stock_names != " MIE "]
   stock_names <- stock_names[stock_names != " MHF "]
   stock_names <- stock_names[stock_names != " MSD "]
   stock_names <- stock_names[stock_names != " MTL "]
   stock_names <- stock_names[stock_names != " NES "]
   stock_names <- stock_names[stock_names != " NE "]
   stock_names <- stock_names[stock_names != " MVO "]
   stock_names <- stock_names[stock_names != " NDP "]
   stock_names <- stock_names[stock_names != " NHF "]
   stock_names <- stock_names[stock_names != " NMI "]
   stock_names <- stock_names[stock_names != " NMR "]
   stock_names <- stock_names[stock_names != " NPV "]
   stock_names <- stock_names[stock_names != " NR "]
   stock_names <- stock_names[stock_names != " NTCO "]
   stock_names <- stock_names[stock_names != " NYC "]
   stock_names <- stock_names[stock_names != " NTP "]
   stock_names <- stock_names[stock_names != " OGEN "]
   stock_names <- stock_names[stock_names != " OAC "]
   stock_names <- stock_names[stock_names != " PBR "]
   stock_names <- stock_names[stock_names != " PBT "]
   stock_names <- stock_names[stock_names != " PEI "]
   stock_names <- stock_names[stock_names != " PEO "]
   stock_names <- stock_names[stock_names != " PIC "]
   stock_names <- stock_names[stock_names != " PHI "]
   stock_names <- stock_names[stock_names != " PGZ "]
   stock_names <- stock_names[stock_names != " PRTY "]
   stock_names <- stock_names[stock_names != " PSF "]
   stock_names <- stock_names[stock_names != " PTN "]
   stock_names <- stock_names[stock_names != " PVL "]
   stock_names <- stock_names[stock_names != " PYN "]
   stock_names <- stock_names[stock_names != " RA "]
   stock_names <- stock_names[stock_names != " RAD "]
   stock_names <- stock_names[stock_names != " RLGT "]
   stock_names <- stock_names[stock_names != " SBOW "]
   stock_names <- stock_names[stock_names != " SBS "]
   stock_names <- stock_names[stock_names != " SCCB "]
   stock_names <- stock_names[stock_names != " SIF "]
   stock_names <- stock_names[stock_names != " SII "]
   stock_names <- stock_names[stock_names != " SILV "]
   stock_names <- stock_names[stock_names != " SNE "]
   stock_names <- stock_names[stock_names != " SRT "]
   stock_names <- stock_names[stock_names != " SRL "]
   stock_names <- stock_names[stock_names != " SUP "]
   stock_names <- stock_names[stock_names != " SSD "]
   stock_names <- stock_names[stock_names != " SPLP "]
   stock_names <- stock_names[stock_names != " SUPV "]
   stock_names <- stock_names[stock_names != " SUZ "]
   stock_names <- stock_names[stock_names != " TAK "]
   stock_names <- stock_names[stock_names != " TARO "]
   stock_names <- stock_names[stock_names != " TME "]
   stock_names <- stock_names[stock_names != " TNC "]
   stock_names <- stock_names[stock_names != " TPAS "]
   stock_names <- stock_names[stock_names != " TRQ "]
   stock_names <- stock_names[stock_names != " TSU "]
   stock_names <- stock_names[stock_names != " UEC "]
   stock_names <- stock_names[stock_names != " UGP "]
   stock_names <- stock_names[stock_names != " URG "]
   stock_names <- stock_names[stock_names != " USAS "]
   stock_names <- stock_names[stock_names != " UTI "]
   stock_names <- stock_names[stock_names != " VALE "]
   stock_names <- stock_names[stock_names != " VGZ "]
   stock_names <- stock_names[stock_names != " VBF "]
   stock_names <- stock_names[stock_names != " VIV "]
   stock_names <- stock_names[stock_names != " VEDL "]
   stock_names <- stock_names[stock_names != " WBAI "]
   stock_names <- stock_names[stock_names != " WIA "]
   stock_names <- stock_names[stock_names != " WIW "]
   stock_names <- stock_names[stock_names != " WRN "]
   stock_names <- stock_names[stock_names != " XOM "]
   stock_names <- stock_names[stock_names != " YPF "]
   stock_names <- stock_names[stock_names != " BGT "]
   stock_names <- stock_names[stock_names != " CELG "]
   stock_names <- stock_names[stock_names != " AAU "]
   stock_names <- stock_names[stock_names != " ABEV "]
   stock_names <- stock_names[stock_names != " ACCO "]
   stock_names <- stock_names[stock_names != " ACH "]
   stock_names <- stock_names[stock_names != " ACRE "]
   stock_names <- stock_names[stock_names != " ACY "]
   stock_names <- stock_names[stock_names != " ADT "]
   stock_names <- stock_names[stock_names != " AEF "]
   stock_names <- stock_names[stock_names != " AEG "]
   stock_names <- stock_names[stock_names != " AFI "]
   stock_names <- stock_names[stock_names != " AGD "]
   stock_names <- stock_names[stock_names != " AGE "]
   stock_names <- stock_names[stock_names != " AGI "]
   stock_names <- stock_names[stock_names != " AGRO "]
   stock_names <- stock_names[stock_names != " AGS "]
   stock_names <- stock_names[stock_names != " AHC "]
   stock_names <- stock_names[stock_names != " AHH "]
   stock_names <- stock_names[stock_names != " AI "]
   stock_names <- stock_names[stock_names != " AIM "]
   stock_names <- stock_names[stock_names != " AIRI "]
   stock_names <- stock_names[stock_names != " AJX "]
   stock_names <- stock_names[stock_names != " AM "]
   stock_names <- stock_names[stock_names != " AMBO "]
   stock_names <- stock_names[stock_names != " AMPE "]
   stock_names <- stock_names[stock_names != " AMPY "]
   stock_names <- stock_names[stock_names != " AMRX "]
   stock_names <- stock_names[stock_names != " AMS "]
   stock_names <- stock_names[stock_names != " ANH "]
   stock_names <- stock_names[stock_names != " AOD "]
   stock_names <- stock_names[stock_names != " AP "]
   stock_names <- stock_names[stock_names != " APRN "]
   stock_names <- stock_names[stock_names != " APTS "]
   stock_names <- stock_names[stock_names != " AR "]
   stock_names <- stock_names[stock_names != " ARC "]
   stock_names <- stock_names[stock_names != " ARCO "]
   stock_names <- stock_names[stock_names != " ARI "]
   stock_names <- stock_names[stock_names != " ARL "]
   stock_names <- stock_names[stock_names != " ARLO "]
   stock_names <- stock_names[stock_names != " ARMP "]
   stock_names <- stock_names[stock_names != " AROC "]
   stock_names <- stock_names[stock_names != " ARR "]
   stock_names <- stock_names[stock_names != " ASC "]
   stock_names <- stock_names[stock_names != " ASG "]
   stock_names <- stock_names[stock_names != " ASM "]
   stock_names <- stock_names[stock_names != " ASX "]
   stock_names <- stock_names[stock_names != " AT "]
   stock_names <- stock_names[stock_names != " ATCO "]
   stock_names <- stock_names[stock_names != " ATI "]
   stock_names <- stock_names[stock_names != " ATTO "]
   stock_names <- stock_names[stock_names != " AUG "]
   stock_names <- stock_names[stock_names != " AUMN "]
   stock_names <- stock_names[stock_names != " AUY "]
   stock_names <- stock_names[stock_names != " AVAL "]
   stock_names <- stock_names[stock_names != " AWP "]
   stock_names <- stock_names[stock_names != " AWX "]
   stock_names <- stock_names[stock_names != " AXL "]
   stock_names <- stock_names[stock_names != " AXR "]
   stock_names <- stock_names[stock_names != " BAK "]
   stock_names <- stock_names[stock_names != " BBAR "]
   stock_names <- stock_names[stock_names != " BBDC "]
   stock_names <- stock_names[stock_names != " BBDO "]
   stock_names <- stock_names[stock_names != " BBVA "]
   stock_names <- stock_names[stock_names != " BBW "]
   stock_names <- stock_names[stock_names != " BCS "]
   stock_names <- stock_names[stock_names != " BCX "]
   stock_names <- stock_names[stock_names != " BDJ "]
   stock_names <- stock_names[stock_names != " BDR "]
   stock_names <- stock_names[stock_names != " BEDU "]
   stock_names <- stock_names[stock_names != " BEST "]
   stock_names <- stock_names[stock_names != " BFT "]
   stock_names <- stock_names[stock_names != " BGI "]
   stock_names <- stock_names[stock_names != " BGIO "]
   stock_names <- stock_names[stock_names != " BGR "]
   stock_names <- stock_names[stock_names != " BGSF "]
   stock_names <- stock_names[stock_names != " BGY "]
   stock_names <- stock_names[stock_names != " BHR "]
   stock_names <- stock_names[stock_names != " BIOX "]
   stock_names <- stock_names[stock_names != " BKD "]
   stock_names <- stock_names[stock_names != " BKTI "]
   stock_names <- stock_names[stock_names != " BNED "]
   stock_names <- stock_names[stock_names != " BQ "]
   stock_names <- stock_names[stock_names != " BRG "]
   stock_names <- stock_names[stock_names != " BRN "]
   stock_names <- stock_names[stock_names != " BSBR "]
   stock_names <- stock_names[stock_names != " BSM "]
   stock_names <- stock_names[stock_names != " BSMX "]
   stock_names <- stock_names[stock_names != " BTE "]
   stock_names <- stock_names[stock_names != " BTG "]
   stock_names <- stock_names[stock_names != " BTN "]
   stock_names <- stock_names[stock_names != " BW "]
   stock_names <- stock_names[stock_names != " BXG "]
   stock_names <- stock_names[stock_names != " CAAP "]
   stock_names <- stock_names[stock_names != " CAL "]
   stock_names <- stock_names[stock_names != " CANF "]
   stock_names <- stock_names[stock_names != " CANG "]
   stock_names <- stock_names[stock_names != " CARS "]
   stock_names <- stock_names[stock_names != " CATO "]
   stock_names <- stock_names[stock_names != " CBH "]
   stock_names <- stock_names[stock_names != " CBL "]
   stock_names <- stock_names[stock_names != " CBX "]
   stock_names <- stock_names[stock_names != " CCO "]
   stock_names <- stock_names[stock_names != " CCR "]
   stock_names <- stock_names[stock_names != " CDE "]
   stock_names <- stock_names[stock_names != " CDR "]
   stock_names <- stock_names[stock_names != " CEI "]
   stock_names <- stock_names[stock_names != " CEL "]
   stock_names <- stock_names[stock_names != " CELP "]
   stock_names <- stock_names[stock_names != " CEN "]
   stock_names <- stock_names[stock_names != " CEPU "]
   stock_names <- stock_names[stock_names != " CGA "]
   stock_names <- stock_names[stock_names != " CHMI "]
   stock_names <- stock_names[stock_names != " CHRA "]
   stock_names <- stock_names[stock_names != " CHS "]
   stock_names <- stock_names[stock_names != " CHX "]
   stock_names <- stock_names[stock_names != " CIA "]
   stock_names <- stock_names[stock_names != " CIF "]
   stock_names <- stock_names[stock_names != " CIK "]
   stock_names <- stock_names[stock_names != " CIM "]
   stock_names <- stock_names[stock_names != " CIO "]
   stock_names <- stock_names[stock_names != " CKX "]
   stock_names <- stock_names[stock_names != " CLA "]
   stock_names <- stock_names[stock_names != " CLDT "]
   stock_names <- stock_names[stock_names != " CLF "]
   stock_names <- stock_names[stock_names != " CLNC "]
   stock_names <- stock_names[stock_names != " CLNY "]
   stock_names <- stock_names[stock_names != " CLPR "]
   stock_names <- stock_names[stock_names != " CLS "]
   stock_names <- stock_names[stock_names != " CMCM "]
   stock_names <- stock_names[stock_names != " CMO "]
   stock_names <- stock_names[stock_names != " CMRE "]
   stock_names <- stock_names[stock_names != " CMT "]
   stock_names <- stock_names[stock_names != " CMU "]
   stock_names <- stock_names[stock_names != " CNF "]
   stock_names <- stock_names[stock_names != " CNHI "]
   stock_names <- stock_names[stock_names != " CNR "]
   stock_names <- stock_names[stock_names != " CO "]
   stock_names <- stock_names[stock_names != " CORR "]
   stock_names <- stock_names[stock_names != " COTY "]
   stock_names <- stock_names[stock_names != " CPAC "]
   stock_names <- stock_names[stock_names != " CPE "]
   stock_names <- stock_names[stock_names != " CPG "]
   stock_names <- stock_names[stock_names != " CPHI "]
   stock_names <- stock_names[stock_names != " CPLG "]
   stock_names <- stock_names[stock_names != " CRHM "]
   stock_names <- stock_names[stock_names != " CRK "]
   stock_names <- stock_names[stock_names != " CRMD "]
   stock_names <- stock_names[stock_names != " CSPR "]
   stock_names <- stock_names[stock_names != " CSTM "]
   stock_names <- stock_names[stock_names != " CSU "]
   stock_names <- stock_names[stock_names != " CTEK "]
   stock_names <- stock_names[stock_names != " CTK "]
   stock_names <- stock_names[stock_names != " CTRA "]
   stock_names <- stock_names[stock_names != " CTT "]
   stock_names <- stock_names[stock_names != " CURO "]
   stock_names <- stock_names[stock_names != " CVA "]
   stock_names <- stock_names[stock_names != " CVE "]
   stock_names <- stock_names[stock_names != " CX "]
   stock_names <- stock_names[stock_names != " CXE "]
   stock_names <- stock_names[stock_names != " CXH "]
   stock_names <- stock_names[stock_names != " CYH "]
   stock_names <- stock_names[stock_names != " DAC "]
   stock_names <- stock_names[stock_names != " DB "]
   stock_names <- stock_names[stock_names != " DBD "]
   stock_names <- stock_names[stock_names != " DBI "]
   stock_names <- stock_names[stock_names != " DDD "]
   stock_names <- stock_names[stock_names != " DDF "]
   stock_names <- stock_names[stock_names != " DESP "]
   stock_names <- stock_names[stock_names != " DEX "]
   stock_names <- stock_names[stock_names != " DHF "]
   stock_names <- stock_names[stock_names != " DHT "]
   stock_names <- stock_names[stock_names != " DHX "]
   stock_names <- stock_names[stock_names != " DHY "]
   stock_names <- stock_names[stock_names != " DL "]
   stock_names <- stock_names[stock_names != " DLNG "]
   stock_names <- stock_names[stock_names != " DMF "]
   stock_names <- stock_names[stock_names != " DNOW "]
   stock_names <- stock_names[stock_names != " DPW "]
   stock_names <- stock_names[stock_names != " DRH "]
   stock_names <- stock_names[stock_names != " DS "]
   stock_names <- stock_names[stock_names != " DSM "]
   stock_names <- stock_names[stock_names != " DSS "]
   stock_names <- stock_names[stock_names != " DSSI "]
   stock_names <- stock_names[stock_names != " DSX "]
   stock_names <- stock_names[stock_names != " DUC "]
   stock_names <- stock_names[stock_names != " DVD "]
   stock_names <- stock_names[stock_names != " DVN "]
   stock_names <- stock_names[stock_names != " DXF "]
   stock_names <- stock_names[stock_names != " EAD "]
   stock_names <- stock_names[stock_names != " EAF "]
   stock_names <- stock_names[stock_names != " EC "]
   stock_names <- stock_names[stock_names != " ECC "]
   stock_names <- stock_names[stock_names != " EDD "]
   stock_names <- stock_names[stock_names != " EDF "]
   stock_names <- stock_names[stock_names != " EEA "]
   stock_names <- stock_names[stock_names != " EEX "]
   stock_names <- stock_names[stock_names != " EFL "]
   stock_names <- stock_names[stock_names != " EGY "]
   stock_names <- stock_names[stock_names != " EHI "]
   stock_names <- stock_names[stock_names != " EHT "]
   stock_names <- stock_names[stock_names != " ELA "]
   stock_names <- stock_names[stock_names != " ELMD "]
   stock_names <- stock_names[stock_names != " ELVT "]
   stock_names <- stock_names[stock_names != " EMAN "]
   stock_names <- stock_names[stock_names != " EMO "]
   stock_names <- stock_names[stock_names != " EMX "]
   stock_names <- stock_names[stock_names != " ENBL "]
   stock_names <- stock_names[stock_names != " ENIC "]
   stock_names <- stock_names[stock_names != " ENLC "]
   stock_names <- stock_names[stock_names != " ENSV "]
   stock_names <- stock_names[stock_names != " ENZ "]
   stock_names <- stock_names[stock_names != " EOD "]
   stock_names <- stock_names[stock_names != " EQS "]
   stock_names <- stock_names[stock_names != " ERF "]
   stock_names <- stock_names[stock_names != " ERJ "]
   stock_names <- stock_names[stock_names != " ESBA "]
   stock_names <- stock_names[stock_names != " ESRT "]
   stock_names <- stock_names[stock_names != " ESTE "]
   stock_names <- stock_names[stock_names != " ET "]
   stock_names <- stock_names[stock_names != " ETJ "]
   stock_names <- stock_names[stock_names != " ETM "]
   stock_names <- stock_names[stock_names != " ETRN "]
   stock_names <- stock_names[stock_names != " ETW "]
   stock_names <- stock_names[stock_names != " EURN "]
   stock_names <- stock_names[stock_names != " EVC "]
   stock_names <- stock_names[stock_names != " EVF "]
   stock_names <- stock_names[stock_names != " EVRI "]
   stock_names <- stock_names[stock_names != " EXD "]
   stock_names <- stock_names[stock_names != " EXG "]
   stock_names <- stock_names[stock_names != " EXK "]
   stock_names <- stock_names[stock_names != " EXPR "]
   stock_names <- stock_names[stock_names != " EXTN "]
   stock_names <- stock_names[stock_names != " F "]
   stock_names <- stock_names[stock_names != " FAM "]
   stock_names <- stock_names[stock_names != " FAX "]
   stock_names <- stock_names[stock_names != " FBP "]
   stock_names <- stock_names[stock_names != " FCF "]
   stock_names <- stock_names[stock_names != " FCO "]
   stock_names <- stock_names[stock_names != " FEI "]
   stock_names <- stock_names[stock_names != " FENG "]
   stock_names <- stock_names[stock_names != " FET "]
   stock_names <- stock_names[stock_names != " FGB "]
   stock_names <- stock_names[stock_names != " FIF "]
   stock_names <- stock_names[stock_names != " FINV "]
   stock_names <- stock_names[stock_names != " FISK "]
   stock_names <- stock_names[stock_names != " FIT "]
   stock_names <- stock_names[stock_names != " FLNG "]
   stock_names <- stock_names[stock_names != " FLY "]
   stock_names <- stock_names[stock_names != " FMO "]
   stock_names <- stock_names[stock_names != " FNB "]
   stock_names <- stock_names[stock_names != " FPH "]
   stock_names <- stock_names[stock_names != " FPI "]
   stock_names <- stock_names[stock_names != " FPL "]
   stock_names <- stock_names[stock_names != " FRO "]
   stock_names <- stock_names[stock_names != " FSI "]
   stock_names <- stock_names[stock_names != " FSM "]
   stock_names <- stock_names[stock_names != " FSP "]
   stock_names <- stock_names[stock_names != " FT "]
   stock_names <- stock_names[stock_names != " FTF "]
   stock_names <- stock_names[stock_names != " FTI "]
   stock_names <- stock_names[stock_names != " FTK "]
   stock_names <- stock_names[stock_names != " FUSE "]
   stock_names <- stock_names[stock_names != " GB "]
   stock_names <- stock_names[stock_names != " GBR "]
   stock_names <- stock_names[stock_names != " GCI "]
   stock_names <- stock_names[stock_names != " GCV "]
   stock_names <- stock_names[stock_names != " GDL "]
   stock_names <- stock_names[stock_names != " GDP "]
   stock_names <- stock_names[stock_names != " GE "]
   stock_names <- stock_names[stock_names != " GEL "]
   stock_names <- stock_names[stock_names != " GEN "]
   stock_names <- stock_names[stock_names != " GER "]
   stock_names <- stock_names[stock_names != " GGB "]
   stock_names <- stock_names[stock_names != " GGN "]
   stock_names <- stock_names[stock_names != " GIM "]
   stock_names <- stock_names[stock_names != " GLEO "]
   stock_names <- stock_names[stock_names != " GLO "]
   stock_names <- stock_names[stock_names != " GLOG "]
   stock_names <- stock_names[stock_names != " GLOP "]
   stock_names <- stock_names[stock_names != " GLV "]
   stock_names <- stock_names[stock_names != " GNE "]
   stock_names <- stock_names[stock_names != " GNK "]
   stock_names <- stock_names[stock_names != " GNT "]
   stock_names <- stock_names[stock_names != " GNW "]
   stock_names <- stock_names[stock_names != " GOL "]
   stock_names <- stock_names[stock_names != " GORO "]
   stock_names <- stock_names[stock_names != " GPL "]
   stock_names <- stock_names[stock_names != " GPM "]
   stock_names <- stock_names[stock_names != " GPMT "]
   stock_names <- stock_names[stock_names != " GPRK "]
   stock_names <- stock_names[stock_names != " GRAM "]
   stock_names <- stock_names[stock_names != " GRF "]
   stock_names <- stock_names[stock_names != " GSAT "]
   stock_names <- stock_names[stock_names != " GSL "]
   stock_names <- stock_names[stock_names != " GSV "]
   stock_names <- stock_names[stock_names != " GTE "]
   stock_names <- stock_names[stock_names != " GTT "]
   stock_names <- stock_names[stock_names != " GUT "]
   stock_names <- stock_names[stock_names != " GV "]
   stock_names <- stock_names[stock_names != " HBM "]
   stock_names <- stock_names[stock_names != " HCFT "]
   stock_names <- stock_names[stock_names != " HCHC "]
   stock_names <- stock_names[stock_names != " HEXO "]
   stock_names <- stock_names[stock_names != " HFRO "]
   stock_names <- stock_names[stock_names != " HIE "]
   stock_names <- stock_names[stock_names != " HIL "]
   stock_names <- stock_names[stock_names != " HIO "]
   stock_names <- stock_names[stock_names != " HIX "]
   stock_names <- stock_names[stock_names != " HKIB "]
   stock_names <- stock_names[stock_names != " HL "]
   stock_names <- stock_names[stock_names != " HLX "]
   stock_names <- stock_names[stock_names != " HMY "]
   stock_names <- stock_names[stock_names != " HPE "]
   stock_names <- stock_names[stock_names != " HPR "]
   stock_names <- stock_names[stock_names != " HPX "]
   stock_names <- stock_names[stock_names != " HT "]
   stock_names <- stock_names[stock_names != " HTY "]
   stock_names <- stock_names[stock_names != " HTZ "]
   stock_names <- stock_names[stock_names != " HUD "]
   stock_names <- stock_names[stock_names != " HYB "]
   stock_names <- stock_names[stock_names != " HZN "]
   stock_names <- stock_names[stock_names != " IAE "]
   stock_names <- stock_names[stock_names != " IAF "]
   stock_names <- stock_names[stock_names != " IAG "]
   stock_names <- stock_names[stock_names != " IBIO "]
   stock_names <- stock_names[stock_names != " ICD "]
   stock_names <- stock_names[stock_names != " ICL "]
   stock_names <- stock_names[stock_names != " IDE "]
   stock_names <- stock_names[stock_names != " IGD "]
   stock_names <- stock_names[stock_names != " IGR "]
   stock_names <- stock_names[stock_names != " IHIT "]
   stock_names <- stock_names[stock_names != " IHT "]
   stock_names <- stock_names[stock_names != " IHTA "]
   stock_names <- stock_names[stock_names != " IID "]
   stock_names <- stock_names[stock_names != " IMH "]
   stock_names <- stock_names[stock_names != " INDO "]
   stock_names <- stock_names[stock_names != " ING "]
   stock_names <- stock_names[stock_names != " INN "]
   stock_names <- stock_names[stock_names != " INNT "]
   stock_names <- stock_names[stock_names != " INUV "]
   stock_names <- stock_names[stock_names != " IO "]
   stock_names <- stock_names[stock_names != " IPI "]
   stock_names <- stock_names[stock_names != " IRL "]
   stock_names <- stock_names[stock_names != " IRR "]
   stock_names <- stock_names[stock_names != " IRS "]
   stock_names <- stock_names[stock_names != " ISR "]
   stock_names <- stock_names[stock_names != " ITP "]
   stock_names <- stock_names[stock_names != " ITUB "]
   stock_names <- stock_names[stock_names != " IVC "]
   stock_names <- stock_names[stock_names != " IVR "]
   stock_names <- stock_names[stock_names != " JAX "]
   stock_names <- stock_names[stock_names != " JCO "]
   stock_names <- stock_names[stock_names != " JDD "]
   stock_names <- stock_names[stock_names != " JEMD "]
   stock_names <- stock_names[stock_names != " JEQ "]
   stock_names <- stock_names[stock_names != " JFR "]
   stock_names <- stock_names[stock_names != " JHAA "]
   stock_names <- stock_names[stock_names != " JHB "]
   stock_names <- stock_names[stock_names != " JHY "]
   stock_names <- stock_names[stock_names != " JILL "]
   stock_names <- stock_names[stock_names != " JMM "]
   stock_names <- stock_names[stock_names != " JMP "]
   stock_names <- stock_names[stock_names != " JOB "]
   stock_names <- stock_names[stock_names != " JOF "]
   stock_names <- stock_names[stock_names != " JP "]
   stock_names <- stock_names[stock_names != " JPC "]
   stock_names <- stock_names[stock_names != " JPS "]
   stock_names <- stock_names[stock_names != " JQC "]
   stock_names <- stock_names[stock_names != " JRO "]
   stock_names <- stock_names[stock_names != " JRS "]
   stock_names <- stock_names[stock_names != " JT "]
   stock_names <- stock_names[stock_names != " JTA "]
   stock_names <- stock_names[stock_names != " KDMN "]
   stock_names <- stock_names[stock_names != " KEP "]
   stock_names <- stock_names[stock_names != " KFS "]
   stock_names <- stock_names[stock_names != " KGC "]
   stock_names <- stock_names[stock_names != " KIQ "]
   stock_names <- stock_names[stock_names != " KLR "]
   stock_names <- stock_names[stock_names != " KMF "]
   stock_names <- stock_names[stock_names != " KODK "]
   stock_names <- stock_names[stock_names != " KOS "]
   stock_names <- stock_names[stock_names != " KRP "]
   stock_names <- stock_names[stock_names != " KT "]
   stock_names <- stock_names[stock_names != " KYN "]
   stock_names <- stock_names[stock_names != " LADR "]
   stock_names <- stock_names[stock_names != " LAIX "]
   stock_names <- stock_names[stock_names != " LBRT "]
   stock_names <- stock_names[stock_names != " LC "]
   stock_names <- stock_names[stock_names != " LCI "]
   stock_names <- stock_names[stock_names != " LCTX "]
   stock_names <- stock_names[stock_names != " LEAF "]
   stock_names <- stock_names[stock_names != " LEE "]
   stock_names <- stock_names[stock_names != " LEO "]
   stock_names <- stock_names[stock_names != " LEU "]
   stock_names <- stock_names[stock_names != " LGL "]
   stock_names <- stock_names[stock_names != " LINX "]
   stock_names <- stock_names[stock_names != " LITB "]
   stock_names <- stock_names[stock_names != " LND "]
   stock_names <- stock_names[stock_names != " LODE "]
   stock_names <- stock_names[stock_names != " LOMA "]
   stock_names <- stock_names[stock_names != " LOV "]
   stock_names <- stock_names[stock_names != " LPG "]
   stock_names <- stock_names[stock_names != " LPL "]
   stock_names <- stock_names[stock_names != " LUB "]
   stock_names <- stock_names[stock_names != " LYG "]
   stock_names <- stock_names[stock_names != " M "]
   stock_names <- stock_names[stock_names != " MAC "]
   stock_names <- stock_names[stock_names != " MBI "]
   stock_names <- stock_names[stock_names != " MBT "]
   stock_names <- stock_names[stock_names != " MCF "]
   stock_names <- stock_names[stock_names != " MCN "]
   stock_names <- stock_names[stock_names != " MCR "]
   stock_names <- stock_names[stock_names != " MCS "]
   stock_names <- stock_names[stock_names != " MDLQ "]
   stock_names <- stock_names[stock_names != " MDLX "]
   stock_names <- stock_names[stock_names != " MDLY "]
   stock_names <- stock_names[stock_names != " MEC "]
   stock_names <- stock_names[stock_names != " MFA "]
   stock_names <- stock_names[stock_names != " MFD "]
   stock_names <- stock_names[stock_names != " MFGP "]
   stock_names <- stock_names[stock_names != " MFM "]
   stock_names <- stock_names[stock_names != " MFV "]
   stock_names <- stock_names[stock_names != " MG "]
   stock_names <- stock_names[stock_names != " MGF "]
   stock_names <- stock_names[stock_names != " MGY "]
   stock_names <- stock_names[stock_names != " MIN "]
   stock_names <- stock_names[stock_names != " MITT "]
   stock_names <- stock_names[stock_names != " MIXT "]
   stock_names <- stock_names[stock_names != " MLSS "]
   stock_names <- stock_names[stock_names != " MMT "]
   stock_names <- stock_names[stock_names != " MMX "]
   stock_names <- stock_names[stock_names != " MN "]
   stock_names <- stock_names[stock_names != " MNK "]
   stock_names <- stock_names[stock_names != " MNRL "]
   stock_names <- stock_names[stock_names != " MOD "]
   stock_names <- stock_names[stock_names != " MOGU "]
   stock_names <- stock_names[stock_names != " MR "]
   stock_names <- stock_names[stock_names != " MRC "]
   stock_names <- stock_names[stock_names != " MRO "]
   stock_names <- stock_names[stock_names != " MSGN "]
   stock_names <- stock_names[stock_names != " MSN "]
   stock_names <- stock_names[stock_names != " MTA "]
   stock_names <- stock_names[stock_names != " MTDR "]
   stock_names <- stock_names[stock_names != " MTNB "]
   stock_names <- stock_names[stock_names != " MTR "]
   stock_names <- stock_names[stock_names != " MTW "]
   stock_names <- stock_names[stock_names != " MUFG "]
   stock_names <- stock_names[stock_names != " MUR "]
   stock_names <- stock_names[stock_names != " MUX "]
   stock_names <- stock_names[stock_names != " MVF "]
   stock_names <- stock_names[stock_names != " MXC "]
   stock_names <- stock_names[stock_names != " MXE "]
   stock_names <- stock_names[stock_names != " MYO "]
   stock_names <- stock_names[stock_names != " NAK "]
   stock_names <- stock_names[stock_names != " NAT "]
   stock_names <- stock_names[stock_names != " NAVB "]
   stock_names <- stock_names[stock_names != " NBY "]
   stock_names <- stock_names[stock_names != " NCV "]
   stock_names <- stock_names[stock_names != " NCZ "]
   stock_names <- stock_names[stock_names != " NEW "]
   stock_names <- stock_names[stock_names != " NEX "]
   stock_names <- stock_names[stock_names != " NEXA "]
   stock_names <- stock_names[stock_names != " NFH "]
   stock_names <- stock_names[stock_names != " NGA "]
   stock_names <- stock_names[stock_names != " NGD "]
   stock_names <- stock_names[stock_names != " NGL "]
   stock_names <- stock_names[stock_names != " NGS "]
   stock_names <- stock_names[stock_names != " NHA "]
   stock_names <- stock_names[stock_names != " NINE "]
   stock_names <- stock_names[stock_names != " NL "]
   stock_names <- stock_names[stock_names != " NLY "]
   stock_names <- stock_names[stock_names != " NM "]
   stock_names <- stock_names[stock_names != " NMM "]
   stock_names <- stock_names[stock_names != " NNA "]
   stock_names <- stock_names[stock_names != " NNVC "]
   stock_names <- stock_names[stock_names != " NOA "]
   stock_names <- stock_names[stock_names != " NOG "]
   stock_names <- stock_names[stock_names != " NOK "]
   stock_names <- stock_names[stock_names != " NOV "]
   stock_names <- stock_names[stock_names != " NPTN "]
   stock_names <- stock_names[stock_names != " NRGX "]
   stock_names <- stock_names[stock_names != " NRO "]
   stock_names <- stock_names[stock_names != " NRT "]
   stock_names <- stock_names[stock_names != " NRZ "]
   stock_names <- stock_names[stock_names != " NSCO "]
   stock_names <- stock_names[stock_names != " NSL "]
   stock_names <- stock_names[stock_names != " NSPR "]
   stock_names <- stock_names[stock_names != " NTIP "]
   stock_names <- stock_names[stock_names != " NTN "]
   stock_names <- stock_names[stock_names != " NTZ "]
   stock_names <- stock_names[stock_names != " NVGS "]
   stock_names <- stock_names[stock_names != " NWG "]
   stock_names <- stock_names[stock_names != " NWHM "]
   stock_names <- stock_names[stock_names != " NXE "]
   stock_names <- stock_names[stock_names != " NYCB "]
   stock_names <- stock_names[stock_names != " OCX "]
   stock_names <- stock_names[stock_names != " OGCP "]
   stock_names <- stock_names[stock_names != " OIA "]
   stock_names <- stock_names[stock_names != " OII "]
   stock_names <- stock_names[stock_names != " OIS "]
   stock_names <- stock_names[stock_names != " ONDK "]
   stock_names <- stock_names[stock_names != " ONE "]
   stock_names <- stock_names[stock_names != " ORC "]
   stock_names <- stock_names[stock_names != " ORN "]
   stock_names <- stock_names[stock_names != " OSG "]
   stock_names <- stock_names[stock_names != " ONE "]
   stock_names <- stock_names[stock_names != " ORC "]
   stock_names <- stock_names[stock_names != " ORN "]
   stock_names <- stock_names[stock_names != " OSG "]
   stock_names <- stock_names[stock_names != " OVV "]
   stock_names <- stock_names[stock_names != " PAA "]
   stock_names <- stock_names[stock_names != " PACD "]
   stock_names <- stock_names[stock_names != " PAGP "]
   stock_names <- stock_names[stock_names != " PARR "]
   stock_names <- stock_names[stock_names != " PBF "]
   stock_names <- stock_names[stock_names != " PBFX "]
   stock_names <- stock_names[stock_names != " PBI "]
   stock_names <- stock_names[stock_names != " PCF "]
   stock_names <- stock_names[stock_names != " PCK "]
   stock_names <- stock_names[stock_names != " PDS "]
   stock_names <- stock_names[stock_names != " PED "]
   stock_names <- stock_names[stock_names != " PFN "]
   stock_names <- stock_names[stock_names != " PGP "]
   stock_names <- stock_names[stock_names != " PGRE "]
   stock_names <- stock_names[stock_names != " PHGE "]
   stock_names <- stock_names[stock_names != " PHK "]
   stock_names <- stock_names[stock_names != " PHT "]
   stock_names <- stock_names[stock_names != " PHX "]
   stock_names <- stock_names[stock_names != " PIM "]
   stock_names <- stock_names[stock_names != " PLG "]
   stock_names <- stock_names[stock_names != " PLM "]
   stock_names <- stock_names[stock_names != " PLX "]
   stock_names <- stock_names[stock_names != " PMM "]
   stock_names <- stock_names[stock_names != " PPR "]
   stock_names <- stock_names[stock_names != " PPT "]
   stock_names <- stock_names[stock_names != " PRT "]
   stock_names <- stock_names[stock_names != " PSO "]
   stock_names <- stock_names[stock_names != " PUMP "]
   stock_names <- stock_names[stock_names != " PZG "]
   stock_names <- stock_names[stock_names != " PZN "]
   stock_names <- stock_names[stock_names != " QD "]
   stock_names <- stock_names[stock_names != " QEP "]
   stock_names <- stock_names[stock_names != " QUAD "]
   stock_names <- stock_names[stock_names != " QUOT "]
   stock_names <- stock_names[stock_names != " RCG "]
   stock_names <- stock_names[stock_names != " RCS "]
   stock_names <- stock_names[stock_names != " REI "]
   stock_names <- stock_names[stock_names != " RENN "]
   stock_names <- stock_names[stock_names != " RES "]
   stock_names <- stock_names[stock_names != " RESI "]
   stock_names <- stock_names[stock_names != " REV "]
   stock_names <- stock_names[stock_names != " REVG "]
   stock_names <- stock_names[stock_names != " RFP "]
   stock_names <- stock_names[stock_names != " RGS "]
   stock_names <- stock_names[stock_names != " RHE "]
   stock_names <- stock_names[stock_names != " RIG "]
   stock_names <- stock_names[stock_names != " RLH "]
   stock_names <- stock_names[stock_names != " RLJ "]
   stock_names <- stock_names[stock_names != " RMED "]
   stock_names <- stock_names[stock_names != " RMT "]
   stock_names <- stock_names[stock_names != " RNGR "]
   stock_names <- stock_names[stock_names != " RPAI "]
   stock_names <- stock_names[stock_names != " RPT "]
   stock_names <- stock_names[stock_names != " RRC "]
   stock_names <- stock_names[stock_names != " RRD "]
   stock_names <- stock_names[stock_names != " RVP "]
   stock_names <- stock_names[stock_names != " RWT "]
   stock_names <- stock_names[stock_names != " RYAM "]
   stock_names <- stock_names[stock_names != " RYB "]
   stock_names <- stock_names[stock_names != " RYI "]
   stock_names <- stock_names[stock_names != " SACH "]
   stock_names <- stock_names[stock_names != " SAN "]
   stock_names <- stock_names[stock_names != " SAND "]
   stock_names <- stock_names[stock_names != " SB "]
   stock_names <- stock_names[stock_names != " SBH "]
   stock_names <- stock_names[stock_names != " SBI "]
   stock_names <- stock_names[stock_names != " SCM "]
   stock_names <- stock_names[stock_names != " SCX "]
   stock_names <- stock_names[stock_names != " SD "]
   stock_names <- stock_names[stock_names != " SDPI "]
   stock_names <- stock_names[stock_names != " SENS "]
   stock_names <- stock_names[stock_names != " SFE "]
   stock_names <- stock_names[stock_names != " SFL "]
   stock_names <- stock_names[stock_names != " SGU "]
   stock_names <- stock_names[stock_names != " SHLX "]
   stock_names <- stock_names[stock_names != " SHO "]
   stock_names <- stock_names[stock_names != " SID "]
   stock_names <- stock_names[stock_names != " SIM "]
   stock_names <- stock_names[stock_names != " SITC "]
   stock_names <- stock_names[stock_names != " SJT "]
   stock_names <- stock_names[stock_names != " SKT "]
   stock_names <- stock_names[stock_names != " SLCA "]
   stock_names <- stock_names[stock_names != " SM "]
   stock_names <- stock_names[stock_names != " SMFG "]
   stock_names <- stock_names[stock_names != " SMHI "]
   stock_names <- stock_names[stock_names != " SMLP "]
   stock_names <- stock_names[stock_names != " SMM "]
   stock_names <- stock_names[stock_names != " SMTS "]
   stock_names <- stock_names[stock_names != " SNMP "]
   stock_names <- stock_names[stock_names != " SNR "]
   stock_names <- stock_names[stock_names != " SOGO "]
   stock_names <- stock_names[stock_names != " SOI "]
   stock_names <- stock_names[stock_names != " SOL "]
   stock_names <- stock_names[stock_names != " SOS "]
   stock_names <- stock_names[stock_names != " SQNS "]
   stock_names <- stock_names[stock_names != " SSL "]
   stock_names <- stock_names[stock_names != " SSY "]
   stock_names <- stock_names[stock_names != " STG "]
   stock_names <- stock_names[stock_names != " STON "]
   stock_names <- stock_names[stock_names != " STXS "]
   stock_names <- stock_names[stock_names != " SVM "]
   stock_names <- stock_names[stock_names != " SVT "]
   stock_names <- stock_names[stock_names != " SWN "]
   stock_names <- stock_names[stock_names != " SWZ "]
   stock_names <- stock_names[stock_names != " SXC "]
   stock_names <- stock_names[stock_names != " SYN "]
   stock_names <- stock_names[stock_names != " TAC "]
   stock_names <- stock_names[stock_names != " TALO "]
   stock_names <- stock_names[stock_names != " TAT "]
   stock_names <- stock_names[stock_names != " TCS "]
   stock_names <- stock_names[stock_names != " TDW "]
   stock_names <- stock_names[stock_names != " TEF "]
   stock_names <- stock_names[stock_names != " TEI "]
   stock_names <- stock_names[stock_names != " TEN "]
   stock_names <- stock_names[stock_names != " TEO "]
   stock_names <- stock_names[stock_names != " TEVA "]
   stock_names <- stock_names[stock_names != " TGB "]
   stock_names <- stock_names[stock_names != " TGC "]
   stock_names <- stock_names[stock_names != " TGI "]
   stock_names <- stock_names[stock_names != " TGS "]
   stock_names <- stock_names[stock_names != " THM "]
   stock_names <- stock_names[stock_names != " TISI "]
   stock_names <- stock_names[stock_names != " TK "]
   stock_names <- stock_names[stock_names != " TKAT "]
   stock_names <- stock_names[stock_names != " TKC "]
   stock_names <- stock_names[stock_names != " TLI "]
   stock_names <- stock_names[stock_names != " TLYS "]
   stock_names <- stock_names[stock_names != " TMBR "]
   stock_names <- stock_names[stock_names != " TMQ "]
   stock_names <- stock_names[stock_names != " TMST "]
   stock_names <- stock_names[stock_names != " TNP "]
   stock_names <- stock_names[stock_names != " TPHS "]
   stock_names <- stock_names[stock_names != " TPRE "]
   stock_names <- stock_names[stock_names != " TPZ "]
   stock_names <- stock_names[stock_names != " TREC "]
   stock_names <- stock_names[stock_names != " TROX "]
   stock_names <- stock_names[stock_names != " TRT "]
   stock_names <- stock_names[stock_names != " TRTX "]
   stock_names <- stock_names[stock_names != " TRX "]
   stock_names <- stock_names[stock_names != " TRXC "]
   stock_names <- stock_names[stock_names != " TSI "]
   stock_names <- stock_names[stock_names != " TSQ "]
   stock_names <- stock_names[stock_names != " TTI "]
   stock_names <- stock_names[stock_names != " TTM "]
   stock_names <- stock_names[stock_names != " TUFN "]
   stock_names <- stock_names[stock_names != " TV "]
   stock_names <- stock_names[stock_names != " TWI "]
   stock_names <- stock_names[stock_names != " TWO "]
   stock_names <- stock_names[stock_names != " UAMY "]
   stock_names <- stock_names[stock_names != " UAN "]
   stock_names <- stock_names[stock_names != " UAVS "]
   stock_names <- stock_names[stock_names != " UBA "]
   stock_names <- stock_names[stock_names != " UBP "]
   stock_names <- stock_names[stock_names != " UFAB "]
   stock_names <- stock_names[stock_names != " UMC "]
   stock_names <- stock_names[stock_names != " USA "]
   stock_names <- stock_names[stock_names != " USDP "]
   stock_names <- stock_names[stock_names != " USX "]
   stock_names <- stock_names[stock_names != " UUU "]
   stock_names <- stock_names[stock_names != " UUUU "]
   stock_names <- stock_names[stock_names != " VER "]
   stock_names <- stock_names[stock_names != " VET "]
   stock_names <- stock_names[stock_names != " VHC "]
   stock_names <- stock_names[stock_names != " VIST "]
   stock_names <- stock_names[stock_names != " VLRS "]
   stock_names <- stock_names[stock_names != " VNCE "]
   stock_names <- stock_names[stock_names != " VNRX "]
   stock_names <- stock_names[stock_names != " VNTR "]
   stock_names <- stock_names[stock_names != " VOC "]
   stock_names <- stock_names[stock_names != " VOLT "]
   stock_names <- stock_names[stock_names != " VRS "]
   stock_names <- stock_names[stock_names != " VTA "]
   stock_names <- stock_names[stock_names != " VVR "]
   stock_names <- stock_names[stock_names != " WBT "]
   stock_names <- stock_names[stock_names != " WEI "]
   stock_names <- stock_names[stock_names != " WES "]
   stock_names <- stock_names[stock_names != " WIT "]
   stock_names <- stock_names[stock_names != " WMC "]
   stock_names <- stock_names[stock_names != " WOW "]
   stock_names <- stock_names[stock_names != " WPG "]
   stock_names <- stock_names[stock_names != " WPX "]
   stock_names <- stock_names[stock_names != " WSR "]
   stock_names <- stock_names[stock_names != " WTI "]
   stock_names <- stock_names[stock_names != " WTT "]
   stock_names <- stock_names[stock_names != " WTTR "]
   stock_names <- stock_names[stock_names != " WYY "]
   stock_names <- stock_names[stock_names != " X "]
   stock_names <- stock_names[stock_names != " XAN "]
   stock_names <- stock_names[stock_names != " XFLT "]
   stock_names <- stock_names[stock_names != " XHR "]
   stock_names <- stock_names[stock_names != " XIN "]
   stock_names <- stock_names[stock_names != " XPL "]
   stock_names <- stock_names[stock_names != " XTNT "]
   stock_names <- stock_names[stock_names != " XXII "]
   stock_names <- stock_names[stock_names != " XYF "]
   stock_names <- stock_names[stock_names != " YCBD "]
   stock_names <- stock_names[stock_names != " YRD "]
   stock_names <- stock_names[stock_names != " ZDGE "]
   stock_names <- stock_names[stock_names != " ZOM "]
   stock_names <- stock_names[stock_names != " ZTR "]
   stock_names <- stock_names[stock_names != " ENO "]
   stock_names <- stock_names[stock_names != " FMN "]
   stock_names <- stock_names[stock_names != " GRN "]
   stock_names <- stock_names[stock_names != " GSBD "]
   stock_names <- stock_names[stock_names != " JBK "]
   stock_names <- stock_names[stock_names != " KTN "]
   stock_names <- stock_names[stock_names != " MEG "]
   stock_names <- stock_names[stock_names != " NCA "]
   stock_names <- stock_names[stock_names != " NPN "]
   stock_names <- stock_names[stock_names != " SFUN "]
   stock_names <- stock_names[stock_names != " SNDR "]
   stock_names <- stock_names[stock_names != " SRSB "]
   stock_names <- stock_names[stock_names != " NEN "]
   stock_names <- stock_names[stock_names != " AEB "]
   stock_names <- stock_names[stock_names != " AHL "]
   stock_names <- stock_names[stock_names != " AJXA "]
   stock_names <- stock_names[stock_names != " AKO "]
   stock_names <- stock_names[stock_names != " ALIN "]
   stock_names <- stock_names[stock_names != " ALP "]
   stock_names <- stock_names[stock_names != " APSG "]
   stock_names <- stock_names[stock_names != " ARGD "]
   stock_names <- stock_names[stock_names != " ASGI "]
   stock_names <- stock_names[stock_names != " ASPL "]
   stock_names <- stock_names[stock_names != " AVAN "]
   stock_names <- stock_names[stock_names != " BAR "]
   stock_names <- stock_names[stock_names != " BDCS "]
   stock_names <- stock_names[stock_names != " BF "]
   stock_names <- stock_names[stock_names != " BML "]
   stock_names <- stock_names[stock_names != " BRK "]
   stock_names <- stock_names[stock_names != " BSN "]
   stock_names <- stock_names[stock_names != " BWL "]
   stock_names <- stock_names[stock_names != " CLII "]
   stock_names <- stock_names[stock_names != " CMSA "]
   stock_names <- stock_names[stock_names != " CMSC "]
   stock_names <- stock_names[stock_names != " CRD "]
   stock_names <- stock_names[stock_names != " CRHC "]
   stock_names <- stock_names[stock_names != " CROC "]
   stock_names <- stock_names[stock_names != " CTA "]
   stock_names <- stock_names[stock_names != " CTBB "]
   stock_names <- stock_names[stock_names != " CTDD "]
   stock_names <- stock_names[stock_names != " CTZ "]
   stock_names <- stock_names[stock_names != " DJCI "]
   stock_names <- stock_names[stock_names != " DRUA "]
   stock_names <- stock_names[stock_names != " DRU "]
   stock_names <- stock_names[stock_names != " DTJ "]
   stock_names <- stock_names[stock_names != " DTLA "]
   stock_names <- stock_names[stock_names != " DTW "]
   stock_names <- stock_names[stock_names != " DTY "]
   stock_names <- stock_names[stock_names != " DUKB "]
   stock_names <- stock_names[stock_names != " DUKH "]
   stock_names <- stock_names[stock_names != " EAI "]
   stock_names <- stock_names[stock_names != " ECCX "]
   stock_names <- stock_names[stock_names != " ECCY "]
   stock_names <- stock_names[stock_names != " EEH "]
   stock_names <- stock_names[stock_names != " ELC "]
   stock_names <- stock_names[stock_names != " ELU "]
   stock_names <- stock_names[stock_names != " EMP "]
   stock_names <- stock_names[stock_names != " EMPW "]
   stock_names <- stock_names[stock_names != " ENBA "]
   stock_names <- stock_names[stock_names != " ENJ "]
   stock_names <- stock_names[stock_names != " ENPC "]
   stock_names <- stock_names[stock_names != " EP "]
   stock_names <- stock_names[stock_names != " EQD "]
   stock_names <- stock_names[stock_names != " ETI "]
   stock_names <- stock_names[stock_names != " ETP "]
   stock_names <- stock_names[stock_names != " EUFX "]
   stock_names <- stock_names[stock_names != " FGNA "]
   stock_names <- stock_names[stock_names != " FMAC "]
   stock_names <- stock_names[stock_names != " FRLG "]
   stock_names <- stock_names[stock_names != " FUE "]
   stock_names <- stock_names[stock_names != " GMTA "]
   stock_names <- stock_names[stock_names != " GPJA "]
   stock_names <- stock_names[stock_names != " GRP "]
   stock_names <- stock_names[stock_names != " GRU "]
   stock_names <- stock_names[stock_names != " GSP "]
   stock_names <- stock_names[stock_names != " GYC "]
   stock_names <- stock_names[stock_names != " HCXY "]
   stock_names <- stock_names[stock_names != " HCXZ "]
   stock_names <- stock_names[stock_names != " HLM "]
   stock_names <- stock_names[stock_names != " HTFA "]
   stock_names <- stock_names[stock_names != " IACA "]
   stock_names <- stock_names[stock_names != " IMPX "]
   stock_names <- stock_names[stock_names != " IPOE "]
   stock_names <- stock_names[stock_names != " IPOF "]
   stock_names <- stock_names[stock_names != " JW "]
   stock_names <- stock_names[stock_names != " LEAP "]
   stock_names <- stock_names[stock_names != " LGF "]
   stock_names <- stock_names[stock_names != " MCX "]
   stock_names <- stock_names[stock_names != " MER "]
   stock_names <- stock_names[stock_names != " MH "]
   stock_names <- stock_names[stock_names != " MHLA "]
   stock_names <- stock_names[stock_names != " MLPG "]
   stock_names <- stock_names[stock_names != " MLPO "]
   stock_names <- stock_names[stock_names != " MOG "]
   stock_names <- stock_names[stock_names != " MVCD "]
   stock_names <- stock_names[stock_names != " NGLS "]
   stock_names <- stock_names[stock_names != " NMK "]
   stock_names <- stock_names[stock_names != " NSH "]
   stock_names <- stock_names[stock_names != " OACB "]
   stock_names <- stock_names[stock_names != " OAK "]
   stock_names <- stock_names[stock_names != " OIBR"]
   stock_names <- stock_names[stock_names != " PACE "]
   stock_names <- stock_names[stock_names != " PBB "]
   stock_names <- stock_names[stock_names != " PBY "]
   stock_names <- stock_names[stock_names != " PDAC "]
   stock_names <- stock_names[stock_names != " PIAI "]
   stock_names <- stock_names[stock_names != " PMVC "]
   stock_names <- stock_names[stock_names != " PRE "]
   stock_names <- stock_names[stock_names != " PRIF "]
   stock_names <- stock_names[stock_names != " PRS "]
   stock_names <- stock_names[stock_names != " PYS "]
   stock_names <- stock_names[stock_names != " QVCD "]
   stock_names <- stock_names[stock_names != " RDS "]
   stock_names <- stock_names[stock_names != " RJA "]
   stock_names <- stock_names[stock_names != " RJI "]
   stock_names <- stock_names[stock_names != " RJN "]
   stock_names <- stock_names[stock_names != " RJZ "]
   stock_names <- stock_names[stock_names != " RMPL "]
   stock_names <- stock_names[stock_names != " RTP "]
   stock_names <- stock_names[stock_names != " RZB "]
   stock_names <- stock_names[stock_names != " SAF "]
   stock_names <- stock_names[stock_names != " SAK "]
   stock_names <- stock_names[stock_names != " SBG "]
   stock_names <- stock_names[stock_names != " SCA "]
   stock_names <- stock_names[stock_names != " SCE "]
   stock_names <- stock_names[stock_names != " SEAH "]
   stock_names <- stock_names[stock_names != " SFB "]
   stock_names <- stock_names[stock_names != " SNPR "]
   stock_names <- stock_names[stock_names != " SOJA "]
   stock_names <- stock_names[stock_names != " SOJB "]
   stock_names <- stock_names[stock_names != " SOJC "]
   stock_names <- stock_names[stock_names != " TPGY "]
   stock_names <- stock_names[stock_names != " TPVY "]
   stock_names <- stock_names[stock_names != " TWND "]
   stock_names <- stock_names[stock_names != " UNMA "]
   stock_names <- stock_names[stock_names != " UZB "]
   stock_names <- stock_names[stock_names != " VERT "]
   stock_names <- stock_names[stock_names != " VGAC "]
   stock_names <- stock_names[stock_names != " VERT "]
   stock_names <- stock_names[stock_names != " VGAC "]
   stock_names <- stock_names[stock_names != " VYGG "]
   stock_names <- stock_names[stock_names != " WALA "]
   stock_names <- stock_names[stock_names != " ZBZX "]
   stock_names <- stock_names[stock_names != " ZEXIT "]
   stock_names <- stock_names[stock_names != " ZIEXT "]
   stock_names <- stock_names[stock_names != " ZXIET "]
   stock_names <- stock_names[stock_names != " N "]
   stock_names <- stock_names[stock_names != " ACND "]
   stock_names <- stock_names[stock_names != " AFGE "]
   stock_names <- stock_names[stock_names != " ALTG "]
   stock_names <- stock_names[stock_names != " AMWL "]
   stock_names <- stock_names[stock_names != " ANVS "]
   stock_names <- stock_names[stock_names != " AONE "]
   stock_names <- stock_names[stock_names != " ASAN "]
   stock_names <- stock_names[stock_names != " ASAQ "]
   stock_names <- stock_names[stock_names != " AZO "]
   stock_names <- stock_names[stock_names != " BATL "]
   stock_names <- stock_names[stock_names != " BCAT "]
   stock_names <- stock_names[stock_names != " BDXB "]
   stock_names <- stock_names[stock_names != " BEKE "]
   stock_names <- stock_names[stock_names != " BEPC "]
   stock_names <- stock_names[stock_names != " BIPC "]
   stock_names <- stock_names[stock_names != " BMEZ "]
   stock_names <- stock_names[stock_names != " BMRG "]
   stock_names <- stock_names[stock_names != " BNL "]
   stock_names <- stock_names[stock_names != " BVH "]
   stock_names <- stock_names[stock_names != " CABO "]
   stock_names <- stock_names[stock_names != " CBO "]
   stock_names <- stock_names[stock_names != " CCAC "]
   stock_names <- stock_names[stock_names != " CCIV "]
   stock_names <- stock_names[stock_names != " CHAQ "]
   stock_names <- stock_names[stock_names != " CMG "]
   stock_names <- stock_names[stock_names != " CPSR "]
   stock_names <- stock_names[stock_names != " DEH "]
   stock_names <- stock_names[stock_names != " DEN "]
   stock_names <- stock_names[stock_names != " DGNR "]
   stock_names <- stock_names[stock_names != " DLY "]
   stock_names <- stock_names[stock_names != " DMS "]
   stock_names <- stock_names[stock_names != " DMYD "]
   stock_names <- stock_names[stock_names != " DMYT "]
   stock_names <- stock_names[stock_names != " DTB "]
   stock_names <- stock_names[stock_names != " DYFN "]
   stock_names <- stock_names[stock_names != " ELAT "]
   stock_names <- stock_names[stock_names != " ELLO "]
   stock_names <- stock_names[stock_names != " ESGC "]
   stock_names <- stock_names[stock_names != " EXN "]
   stock_names <- stock_names[stock_names != " FAII "]
   stock_names <- stock_names[stock_names != " FCRW "]
   stock_names <- stock_names[stock_names != " FCRZ "]
   stock_names <- stock_names[stock_names != " FEAC "]
   stock_names <- stock_names[stock_names != " FHI "]
   stock_names <- stock_names[stock_names != " FSKR "]
   stock_names <- stock_names[stock_names != " FST "]
   stock_names <- stock_names[stock_names != " FTHY "]
   stock_names <- stock_names[stock_names != " FUBO "]
   stock_names <- stock_names[stock_names != " FURY "]
   stock_names <- stock_names[stock_names != " FVAC "]
   stock_names <- stock_names[stock_names != " GAU "]
   stock_names <- stock_names[stock_names != " GFLU "]
   stock_names <- stock_names[stock_names != " GIK "]
   stock_names <- stock_names[stock_names != " GLDG "]
   stock_names <- stock_names[stock_names != " GOAC "]
   stock_names <- stock_names[stock_names != " GOED "]
   stock_names <- stock_names[stock_names != " GSAH "]
   stock_names <- stock_names[stock_names != " HWM "]
   stock_names <- stock_names[stock_names != " HYLN "]
   stock_names <- stock_names[stock_names != " HZAC "]
   stock_names <- stock_names[stock_names != " IBO "]
   stock_names <- stock_names[stock_names != " IGC "]
   stock_names <- stock_names[stock_names != " IH "]
   stock_names <- stock_names[stock_names != " IPOB "]
   stock_names <- stock_names[stock_names != " IPOC "]
   stock_names <- stock_names[stock_names != " IPV "]
   stock_names <- stock_names[stock_names != " ITRG "]
   stock_names <- stock_names[stock_names != " JWS "]
   stock_names <- stock_names[stock_names != " KCAC "]
   stock_names <- stock_names[stock_names != " LGVW "]
   stock_names <- stock_names[stock_names != " LMND "]
   stock_names <- stock_names[stock_names != " LOAK "]
   stock_names <- stock_names[stock_names != " LSF "]
   stock_names <- stock_names[stock_names != " LUMN "]
   stock_names <- stock_names[stock_names != " MGRB "]
   stock_names <- stock_names[stock_names != " MKL "]
   stock_names <- stock_names[stock_names != " MNSO "]
   stock_names <- stock_names[stock_names != " MPLN "]
   stock_names <- stock_names[stock_names != " MPV "]
   stock_names <- stock_names[stock_names != " MSGE "]
   stock_names <- stock_names[stock_names != " MSGS "]
   stock_names <- stock_names[stock_names != " MTCN "]
   stock_names <- stock_names[stock_names != " MTD "]
   stock_names <- stock_names[stock_names != " MYJ "]
   stock_names <- stock_names[stock_names != " MYN "]
   stock_names <- stock_names[stock_names != " NDMO "]
   stock_names <- stock_names[stock_names != " NREF "]
   stock_names <- stock_names[stock_names != " NTST "]
   stock_names <- stock_names[stock_names != " NVR "]
   stock_names <- stock_names[stock_names != " OBLG "]
   stock_names <- stock_names[stock_names != " OIBR "]
   stock_names <- stock_names[stock_names != " OSH "]
   stock_names <- stock_names[stock_names != " OTIS "]
   stock_names <- stock_names[stock_names != " PANA "]
   stock_names <- stock_names[stock_names != " PCGU "]
   stock_names <- stock_names[stock_names != " PFH "]
   stock_names <- stock_names[stock_names != " PLAG "]
   stock_names <- stock_names[stock_names != " PLTR "]
   stock_names <- stock_names[stock_names != " PRPB "]
   stock_names <- stock_names[stock_names != " PSTH "]
   stock_names <- stock_names[stock_names != " PTK "]
   stock_names <- stock_names[stock_names != " RBAC "]
   stock_names <- stock_names[stock_names != " RFM "]
   stock_names <- stock_names[stock_names != " RKT "]
   stock_names <- stock_names[stock_names != " SBBA "]
   stock_names <- stock_names[stock_names != " SBSW "]
   stock_names <- stock_names[stock_names != " SCCC "]
   stock_names <- stock_names[stock_names != " SCVX "]
   stock_names <- stock_names[stock_names != " AFGD "]
   stock_names <- stock_names[stock_names != " SEB "]
   stock_names <- stock_names[stock_names != " SHOP "]
   stock_names <- stock_names[stock_names != " SLQT "]
   stock_names <- stock_names[stock_names != " SNOW "]
   stock_names <- stock_names[stock_names != " SOAC "]
   stock_names <- stock_names[stock_names != " SOJD "]
   stock_names <- stock_names[stock_names != " SOJE "]
   stock_names <- stock_names[stock_names != " STPK "]
   stock_names <- stock_names[stock_names != " TFII "]
   stock_names <- stock_names[stock_names != " TIMB "]
   stock_names <- stock_names[stock_names != " TREB "]
   stock_names <- stock_names[stock_names != " U "]
   stock_names <- stock_names[stock_names != " UTZ "]
   stock_names <- stock_names[stock_names != " UZD "]
   stock_names <- stock_names[stock_names != " VIAO "]
   stock_names <- stock_names[stock_names != " VNT "]
   stock_names <- stock_names[stock_names != " VTOL "]
   stock_names <- stock_names[stock_names != " VVNT "]
   stock_names <- stock_names[stock_names != " WLL "]
   stock_names <- stock_names[stock_names != " WPF "]
   stock_names <- stock_names[stock_names != " WTRG "]
   stock_names <- stock_names[stock_names != " XPEV "]
   stock_names <- stock_names[stock_names != " YAC "]
   stock_names <- stock_names[stock_names != " YALA "]
   stock_names <- stock_names[stock_names != " ATEST "]
   stock_names <- stock_names[stock_names != " CTEST "]
   stock_names <- stock_names[stock_names != " IPOD "]
   stock_names <- stock_names[stock_names != " NTEST "]
   stock_names <- stock_names[stock_names != " ZTEST "]
   
   #remove spaces to create final dataset
   stock_names <- stock_names %>% str_replace_all(" ", "") 
   
}


#1 Month Profit Range####
month_profit_range <- function(stock_sign){

   # current price
   yahoo_url <- paste0("https://finance.yahoo.com/quote/", stock_sign, "?p=", stock_sign)
   
   current <- read_html(yahoo_url)

   current <- current %>%
      html_nodes("span") %>%
      html_text() %>%
      as.data.frame()
   
   current <- current[!apply(is.na(current) | current == "", 1, all),]
   current <- as.data.frame(current)
   current <- current[grep("[[:digit:]]", current$current), ]
   current <- as.data.frame(current)
   current <- current[!grepl("W", current$current),]
   current <- as.data.frame(current)
   current1 <- current[11,1]
   current1 <- gsub(",","",current1)
   current1 <- suppressWarnings(as.numeric(as.character(current1)))
   current2 <- current[15,1]
   current2 <- gsub(",","",current2)
   current2 <- suppressWarnings(as.numeric(as.character(current2)))
   current <- ifelse(is.na(current1) == TRUE, current2, current1)
   current <- as.data.frame(current)
   current <- as.numeric(as.character(current$current))
   
   # Finding 1 month high and low
   # barchart data
   url = paste0("https://www.barchart.com/stocks/quotes/", stock_sign, "/overview")
   data <- suppressWarnings(htmltab(doc = url, which = 1, header = 0))
   
   # 1 month high
   high <- data[1,3]
   high <- gsub("\\-.*","", high)
   high <- suppressWarnings(as.numeric(as.character(high)))
   
   # 1 month low
   low <- data[1,2]
   low <- gsub("\\+.*","", low)
   low <- suppressWarnings(as.numeric(as.character(low)))
   
   # 1 month high low difference
   dif = high - low
   
   # number gain
   pot_prof = high - current
   # percent gain
   pot_prof_perc = (pot_prof/dif)*100
   
   # number loss
   pot_loss = current - low
   # percent loss
   pot_loss_perc = (pot_loss/dif)*100
   
   # profit difference number
   profit_diff_num = pot_prof - pot_loss
   profit_diff_num = round(profit_diff_num, digits=2)
   profit_diff_num1 = paste0(stock_sign,": $", profit_diff_num)
   
   # profit percent difference
   profit_diff_perc = pot_prof_perc - pot_loss_perc
   profit_diff_perc = round(profit_diff_perc, digits=2)
   profit_diff_perc1 = paste0(stock_sign, ": ", profit_diff_perc)
   
   # potential profit
   #Greater than 75% potential profit
   ifelse(profit_diff_perc > 75, print(profit_diff_perc1), "")
   #Greater than $10 potential profit
   ifelse(profit_diff_num > 10, print(profit_diff_num1), "")
   
}

# Finding Stocks With Potential Profit (> 75% and/or > $5)
for ( i in data() ){
   
   tryCatch(

      month_profit_range(i), error = function(e){})
   
}
